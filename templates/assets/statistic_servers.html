<!DOCTYPE html>
{% extends "base.html" %}

{% block title %} <h1> Device </h1><h2> Search </h2>
{% endblock %}

{#{% block heading %}#}
{#    <h1> Device</h1>#}
{#    <h2> Search Records</h2>#}
{#{% endblock %}#}

{% block content %}
    <div class="well">
        <ul class="nav nav-tabs">
            <li class="active"><a href="#home" data-toggle="tab">按型号统计</a></li>
            <li><a href="#status" data-toggle="tab">按使用状态统计</a></li>
            <li><a href="#building" data-toggle="tab">按机房统计</a></li>
            <li><a href="#location" data-toggle="tab">按机柜统计</a></li>
        </ul>
        <div id="myTabContent" class="tab-content">

            <div class="tab-pane active in" id="home">
                <table class="table">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>型号</th>
                        <th>数量</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for key, value in model_statistic %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ key }}</td>
                            <td>
                                <a href="/assets/servers/search/?model={{ key }}"> {{ value }} </a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="tab-pane fade" id="status">
                <table class="table">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>状态</th>
                        <th>数量</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for key, value in status_statistic.items %}
                        <tr>
                            <td>{{forloop.counter}}</td>
                            <td>{{ key }}</td>
                            <td>
                                {% if value != 0 %}<a href="/assets/servers/search/?status={{ key }}"/> {% endif %}
                                {{ value }}
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="tab-pane fade" id="building">
                <table class="table">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>机房</th>
                        <th>数量</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for key, value in building_statistic %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ key }}</td>
                            <td>
                                <a href="/assets/servers/search/?building={{ key }}"> {{ value }} </a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="tab-pane fade" id="location">
                <table class="table">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>机柜</th>
                        <th>数量</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for key, value in location_statistic %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ key }}</td>
                            <td>
                                <a href="/assets/servers/search/?location={{ key }}"> {{ value }} </a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

    </div>
{% endblock %}