{##}
{% extends "base.html" %}

{% block title %} <h1> Device </h1><h2> Search </h2> {% endblock %}

{#{% block heading %}#}
{#    <h1> Device</h1>#}
{#    <h2> Search Records</h2>#}
{#{% endblock %}#}

{% block content %}
    <div class="row-fluid">
        <div class="block">
            <p class="block-heading">Search Assets</p>
            <div class="block-body">
                <form action="" method="get">
                    <table class="table">
                        <tr>
                            <td>{{ searchform.asset.label}}</td><td>{{searchform.asset}}</td>
                            <td>{{ searchform.asset_old.label }}</td><td>{{searchform.asset_old}}</td>
                        </tr>
                        <tr>
                            <td>{{ searchform.type.label }}</td><td>{{searchform.type}}</td>
                            <td>{{ searchform.subtype.label }}</td><td>{{searchform.subtype}}</td>
                        </tr>
                        <tr>
                            <td>{{ searchform.status.label }}</td><td>{{ searchform.status }}</td>
                            <td>{{ searchform.manufacturer.label }}</td><td>{{searchform.manufacturer}}</td>

                        </tr>
                        <tr>
                            <td>{{ searchform.model.label }}</td><td>{{searchform.model}}</td>
                            <td>{{ searchform.building.label }}</td><td>{{searchform.building}}</td>

                        </tr>
                        <tr>
                            <td>{{ searchform.location.label }}</td><td>{{searchform.location}}</td>
                            <td>{{ searchform.consignee.label }}</td><td>{{searchform.consignee}}</td>

                        </tr>
                        <tr>
                            <td>{{ searchform.hostname.label }}</td><td>{{searchform.hostname}}</td>
                            <td>{{ searchform.vendor.label }}</td><td>{{searchform.vendor}}</td>
                        </tr>
                        {#                        <tr><td>{{ status }}</td><td>{{ page }}</td></tr>#}
                        <input class="btn btn-primary" type="submit" value="提交查询"></input>
                    </table>


                </form>

            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="block">
            <p class="block-heading">Assets List</p>
            <div class="block-body">
                {% if list_items %}
                    {#                    <div class="well">#}
                    <table class="table">
                        <thead>
                        <tr>
                            <th>{{ searchform.asset.label }}</th>
                            <th>{{ searchform.asset_old.label }}</th>
                            <th>{{ searchform.type.label }}</th>
                            <th>{{ searchform.subtype.label }}</th>
                            <th>{{ searchform.status.label }}</th>
                            <th>{{ searchform.manufacturer.label }}</th>
                            <th>{{ searchform.model.label }}</th>
                            <th>{{ searchform.building.label }}</th>
                            <th>{{ searchform.location.label }}</th>
                            <th>{{ searchform.consignee.label }}</th>
                            <th>{{ searchform.hostname.label }}</th>
                            <th>{{ searchform.vendor.label }}</th>
                            <th colspan="3">Actions </th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for item in list_items.object_list %}
                            <tr>
                                <td>  {{item.asset}}</td>
                                <td>  {{item.asset_old}}</td>
                                <td>  {{item.type}}</td>
                                <td>  {{item.subtype}}</td>
                                <td>  {{item.status}}</td>
                                <td>  {{item.manufacturer}}</td>
                                <td>  {{item.model}}</td>
                                <td>  {{item.building}}</td>
                                <td>  {{item.location}}</td>
                                <td>  {{item.consignee}}</td>
                                <td>  {{item.hostname}}</td>
                                <td>  {{item.vendor}}</td>
                                <td><a href="{% url "assets.views.view_servers" item.asset %}" >Show</a> </td>
                                <td><a href="{% url "assets.views.edit_servers" item.asset %}" >Edit</a></td>
                                <td><a href="{% url "assets.views.delete_servers" item.asset %}">Delete</a></td>
{#                                <td><a href="#myModal" data-toggle="modal" class="btn">Delete</a></td>#}
{##}
{#                                <div class="modal small hide fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">#}
{#                                    <div class="modal-header">#}
{#                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>#}
{#                                         <h3 id="myModalLabel">Delete Confirmation</h3>#}
{#                                    </div>#}
{##}
{#                                    <div class="modal-body">#}
{#                                        <p class="error-text"><i class="icon-warning-sign modal-icon"></i>Are you sure you want to delete the user?</p>#}
{#                                    </div>#}
{##}
{#                                    <div class="modal-footer">#}
{#                                        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>#}
{#                                        <button class="btn btn-danger" data-dismiss="modal"><a href="{% url "assets.views.delete_servers" item.asset %}">Delete</a></button>#}
{#                                    </div>#}
{#                                </div>#}
{##}
{##}
{#                                <div class="modal small hide fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">#}
{#                                    <div class="modal-header">#}
{#                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>#}
{#                                        <h3 id="myModalLabel">Delete Confirmation</h3>#}
{#                                    </div>#}
{##}
{#                                    <div class="modal-body">#}
{##}
{#                                        <p class="error-text"><i class="icon-warning-sign modal-icon"></i>Are you sure you want to delete the record?</p>#}
{#                                    </div>#}
{##}
{#                                    <div class="modal-footer">#}
{#                                        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>#}
{#                                        <button class="btn btn-danger" data-dismiss="modal"><a href="{% url "assets.views.delete_servers" item.asset %}"> Delete </a></button>#}
{#                                        <a href="{% url "assets.views.delete_servers" item.asset %}" class="btn btn-danger" data-dismiss="modal">Delete</a>#}
{#                                    </div>#}
{#                                </div>#}

                            </tr>
                        {% endfor %}
                    <tr><td colspan="3"> <a href="{% url "assets.views.create_servers" %}">Add New</a></td></tr>
                    <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                    </tbody>
                    </table>

                    <div align="center">
                        {% if list_items.has_previous %}
                            {#                        <a href="?asset={{ asset }}&asset_old={{ asset_old }}&type={{ type }}&subtype={{ subtype }}&manufacturer={{ manufacturer }}&model={{ model }}&building={{ building }}&location={{ location }}&consignee={{ consignee }}&hostname={{ hostname }}&vendor={{ vendor }}&page={{ list_items.previous_page_number }}">Previous</a>#}
                            {% if status == None %}
                                <a href="?asset={{ asset }}&asset_old={{ asset_old }}&type={{ type }}&subtype={{ subtype }}&manufacturer={{ manufacturer }}&model={{ model }}&building={{ building }}&location={{ location }}&consignee={{ consignee }}&hostname={{ hostname }}&vendor={{ vendor }}&page={{ list_items.previous_page_number }}">Previous</a>
                            {% else %}
                                <a href="?asset={{ asset }}&asset_old={{ asset_old }}&type={{ type }}&subtype={{ subtype }}&manufacturer={{ manufacturer }}&model={{ model }}&building={{ building }}&location={{ location }}&consignee={{ consignee }}&hostname={{ hostname }}&vendor={{ vendor }}&status={{ status }}&page={{ list_items.previous_page_number }}">Previous</a>
                            {% endif %}
                        {% endif %}

                        <span class="current">
                            Page {{ list_items.number }} of {{ list_items.paginator.num_pages }}.
                        </span>

                        {% if list_items.has_next %}
                            {% if status == None %}
                                <a href="?asset={{ asset }}&asset_old={{ asset_old }}&type={{ type }}&subtype={{ subtype }}&manufacturer={{ manufacturer }}&model={{ model }}&building={{ building }}&location={{ location }}&consignee={{ consignee }}&hostname={{ hostname }}&vendor={{ vendor }}&page={{ list_items.next_page_number }}">Next</a>
                            {% else %}
                                <a href="?asset={{ asset }}&asset_old={{ asset_old }}&type={{ type }}&subtype={{ subtype }}&manufacturer={{ manufacturer }}&model={{ model }}&building={{ building }}&location={{ location }}&consignee={{ consignee }}&hostname={{ hostname }}&vendor={{ vendor }}&status={{ status }}&page={{ list_items.next_page_number }}">Next</a>
                            {% endif %}
                        {% endif %}

                        <span><p>Total:{{ count }}</p></span>
                    </div>
                {% else %}
                    <div align="center">
                        <strong>No Such Data</strong>
                    </div>
                {% endif %}
        </div>
    </div>

    {#        <div class="modal small hide fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">#}
    {#            <div class="modal-header">#}
    {#                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>#}
    {#                <h3 id="myModalLabel">Delete Confirmation</h3>#}
    {#            </div>#}
    {##}
    {#            <div class="modal-body">#}
    {##}
    {#                <p class="error-text"><i class="icon-warning-sign modal-icon"></i>Are you sure you want to delete the user?</p>#}
    {#            </div>#}
    {##}
    {#            <div class="modal-footer">#}
    {#                <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>#}
    {#                <button class="btn btn-danger" data-dismiss="modal">Delete</button>#}
    {#            </div>#}
    {#        </div>#}
    {#    </div>#}
    {##}
    {#    <div class="modal small hide fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">#}
    {#        <div class="modal-header">#}
    {#            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>#}
    {#            <h3 id="myModalLabel">Delete Confirmation</h3>#}
    {#        </div>#}
    {##}
    {#        <div class="modal-body">#}
    {##}
    {#            <p class="error-text"><i class="icon-warning-sign modal-icon"></i>Are you sure you want to delete the record?</p>#}
    {#        </div>#}
    {##}
    {#        <div class="modal-footer">#}
    {#            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>#}
    {#            <button class="btn btn-danger" data-dismiss="modal"><a href="{% url "assets.views.delete_servers" item.asset %}"> Delete </a></button>#}
    {#            <a href="{% url "assets.views.delete_servers" item.asset %}" class="btn btn-danger" data-dismiss="modal">Delete</a>#}
    {#        </div>#}
    {#    </div>#}
{% endblock %}
